<!-- orders.html -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orders</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      table {
        border: 1px solid black;
        width: 100%;
        font-size: 22px;
        height: 200px;
        margin-bottom: 20px;
      }

      thead {
        background-color: rgb(56, 155, 242);
        color: white;
      }

      td {
        text-align: center;
      }

      a {
        padding: 15px 22px;
        background-color: rgb(0, 81, 255);
        color: white;
        border-radius: 3px;
        text-decoration: none;
        transition: 0.25s transform, 0.25s background-color;
      }

      .a {
        background-color: black;
        padding: 16px 18px;
        font-size: 17px;
        font-weight: bold;
      }

      p {
        font-size: 22px;
      }

      .a a {
        background-color: white;
        color: black;
        transition: 0.25s ease-in background-color;
        transition: 0.25s ease-in font-size;
      }
      .a a:hover {
        background-color: rgb(224, 224, 224);
        font-size: 20px;
      }

      .pay a:hover {
        transform: translateX(200px);
        background-color: rgb(56, 119, 255);
      }


     
    </style>
  </head>
  <body>
    <div class="a">
      <a href="{% url 'homepage' %}">Home</a>
    </div>

    <h2>Orders</h2>
    <p>Table: {{ request.session.table_number }}</p>
    <table border="1">
      <thead>
        <tr>
          <th>Item</th>
          <th>Price</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %} {% for item in order.items.all %}
        <tr>
          <td>{{ item.name }}</td>
          <td>${{ item.price }}</td>
          <td>
            <form action="{% url 'remove_from_order' %}" method="post">
              {% csrf_token %}
              <input type="hidden" name="order_id" value="{{ order.id }}" />
              <input type="hidden" name="item_id" value="{{ item.id }}" />
              <input type="submit" value="Remove" class="r" />
            </form>
          </td>
        </tr>
        {% endfor %} {% endfor %}
        <tr>
          <td colspan="2">Total Price: ${{ total_price }}</td>
        </tr>
      </tbody>
    </table>
    <div class="pay">
      <a href="{% url 'pay' %}">Pay</a>
    </div>
  </body>
</html>
